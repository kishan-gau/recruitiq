# ==============================================================================
# RecruitIQ Backend Environment Configuration
# ==============================================================================
# SECURITY: This is an EXAMPLE file. Copy to .env and fill with real values.
# NEVER commit .env file with real credentials to version control!
# ==============================================================================

# Environment
NODE_ENV=development
PORT=4000

# ==============================================================================
# DATABASE CONFIGURATION (DOCKER)
# ==============================================================================
# SECURITY: Required for docker-compose.yml
# Generate strong passwords with: openssl rand -base64 32
# NEVER use default passwords like 'postgres' in production!
POSTGRES_USER=postgres
POSTGRES_PASSWORD=<GENERATE_WITH_OPENSSL_RAND_BASE64_32>
POSTGRES_DB=recruitiq_dev
POSTGRES_PORT=5432

# Database Connection (same values as above)
DATABASE_URL=postgresql://postgres:<POSTGRES_PASSWORD>@localhost:5432/recruitiq_dev
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=recruitiq_dev
DATABASE_USER=postgres
DATABASE_PASSWORD=<SAME_AS_POSTGRES_PASSWORD_ABOVE>
DATABASE_SSL=false
DATABASE_POOL_MIN=20
DATABASE_POOL_MAX=100

# License Manager Database (for tier preset queries)
LICENSE_MANAGER_DB_HOST=localhost
LICENSE_MANAGER_DB_PORT=5432
LICENSE_MANAGER_DB_NAME=license_manager_db
LICENSE_MANAGER_DB_USER=postgres
LICENSE_MANAGER_DB_PASSWORD=<STRONG_RANDOM_PASSWORD>

# ==============================================================================
# JWT SECRETS - CRITICAL SECURITY
# ==============================================================================
# Generate with: openssl rand -base64 48
# Minimum 43 characters for 256-bit security
# MUST be different from each other!
JWT_SECRET=<GENERATE_WITH_OPENSSL_RAND_BASE64_48>
JWT_REFRESH_SECRET=<GENERATE_WITH_OPENSSL_RAND_BASE64_48>

# Industry standard token expiry times
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ==============================================================================
# REDIS CONFIGURATION (DOCKER)
# ==============================================================================
# SECURITY: Password is REQUIRED for Redis (prevents unauthorized access)
# Generate with: openssl rand -base64 32
# CRITICAL: Never run Redis without authentication in production!
REDIS_ENABLED=true
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=<GENERATE_WITH_OPENSSL_RAND_BASE64_32>
REDIS_PORT=6379
REDIS_DB=0

# Email (Nodemailer)
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_USER=your-smtp-user
SMTP_PASSWORD=your-smtp-password
EMAIL_FROM=noreply@recruitiq.com
EMAIL_FROM_NAME=RecruitIQ

# AWS S3 (for file uploads)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=recruitiq-uploads
AWS_S3_BUCKET_REGION=us-east-1

# Stripe (for billing)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key

# Frontend URL (CORS)
FRONTEND_URL=http://localhost:5173
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ==============================================================================
# ENCRYPTION - CRITICAL SECURITY
# ==============================================================================
# Generate with: openssl rand -hex 64
# Minimum 128 characters (64 bytes in hex) for production security
ENCRYPTION_MASTER_KEY=<GENERATE_WITH_OPENSSL_RAND_HEX_64>

# ==============================================================================
# SESSION SECRET - CRITICAL SECURITY
# ==============================================================================
# Generate with: openssl rand -base64 64
# Minimum 64 characters for production security
SESSION_SECRET=<GENERATE_WITH_OPENSSL_RAND_BASE64_64>

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
REQUIRE_HTTPS=false
TRUST_PROXY=false

# ==============================================================================
# APPLICATION
# ==============================================================================
APP_NAME=RecruitIQ
APP_URL=http://localhost:4000
API_VERSION=v1

# ==============================================================================
# LOGGING
# ==============================================================================
LOG_LEVEL=info
LOG_FILE_PATH=logs/app.log

# ==============================================================================
# DEPLOYMENT CONFIGURATION
# ==============================================================================
DEPLOYMENT_TYPE=onpremise
TENANT_ID=dev-tenant
INSTANCE_ID=dev-instance

# ==============================================================================
# SECURITY MONITORING
# ==============================================================================
SECURITY_MONITORING_ENABLED=true
CENTRAL_LOGGING_ENABLED=false
CENTRAL_MONITORING_ENABLED=false

# Feature Flags
ENABLE_WEBSOCKETS=true
ENABLE_FILE_UPLOADS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_AUDIT_LOGS=true

# License Validation
LICENSE_API_URL=https://license.recruitiq.com
LICENSE_CHECK_INTERVAL_HOURS=24
