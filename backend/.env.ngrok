# ngrok Development Environment Configuration
# Copy this to .env when using ngrok tunnels
# 
# Instructions:
# 1. Reserve domains in ngrok dashboard (paid plan required)
# 2. Update the domains below with your reserved domains
# 3. Copy this file: cp .env.ngrok .env
# 4. Restart backend server

# Environment
NODE_ENV=development
PORT=4000

# Database (Unified - includes License Manager tables)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/recruitiq_dev
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=recruitiq_dev
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres
DATABASE_SSL=false

# JWT Secrets (CHANGE THESE IN PRODUCTION!)
JWT_SECRET=49Po1WIS6phVRObKvmgwNT7iBXzxJUCtcY2AD0Mrnfd3e85F
JWT_REFRESH_SECRET=qeJuLy39WVlUFTo5O16kZfGsY2IDCgwmc0PjRXNMbKEBpnSr
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Redis (Enabled for proper rate limiting and caching)
REDIS_ENABLED=true
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Email (Optional for now)
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=noreply@recruitiq.com

# Allowed Origins (CORS) - ngrok domains
# IMPORTANT: Replace these with your actual reserved ngrok domains
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:5174,http://localhost:5175,http://localhost:5176,https://nexus-dev.ngrok.app,https://paylinq-dev.ngrok.app,https://recruitiq-dev.ngrok.app,https://portal-dev.ngrok.app

# Cookie Configuration - ngrok domain
# IMPORTANT: Update this to match your ngrok domain suffix
# Example: If your domains are *.xyz.ngrok.app, use .xyz.ngrok.app
COOKIE_DOMAIN=.ngrok.app
COOKIE_SECURE=true
COOKIE_SAME_SITE=none

# Frontend URLs (for redirects, emails, etc.) - ngrok domains
NEXUS_URL=https://nexus-dev.ngrok.app
PAYLINQ_URL=https://paylinq-dev.ngrok.app
RECRUITIQ_URL=https://recruitiq-dev.ngrok.app
PORTAL_URL=https://portal-dev.ngrok.app

# Central Logging Database (Optional)
CENTRAL_LOG_DB_HOST=localhost
CENTRAL_LOG_DB_PORT=5432
CENTRAL_LOG_DB_NAME=central_logs
CENTRAL_LOG_DB_USER=postgres
CENTRAL_LOG_DB_PASSWORD=postgres
CENTRAL_LOGGING_ENABLED=false

# Central Monitoring Database (Optional)
CENTRAL_MONITOR_DB_HOST=localhost
CENTRAL_MONITOR_DB_PORT=5432
CENTRAL_MONITOR_DB_NAME=central_monitor
CENTRAL_MONITOR_DB_USER=postgres
CENTRAL_MONITOR_DB_PASSWORD=postgres
CENTRAL_MONITORING_ENABLED=false

# Encryption key for sensitive data (32 bytes hex)
ENCRYPTION_KEY=c5e1a7b3d9f2e4c6a8b0d2f4e6c8a0b2d4f6e8c0a2b4d6f8e0c2a4b6d8f0e2c4

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session Configuration
SESSION_SECRET=8a7b6c5d4e3f2g1h9i8j7k6l5m4n3o2p
SESSION_MAX_AGE=86400000

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# Logging
LOG_LEVEL=debug
LOG_FILE=./logs/app.log

# Feature Flags
ENABLE_EMAIL_VERIFICATION=false
ENABLE_MFA=false
ENABLE_AUDIT_LOGGING=true

# Performance
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000
