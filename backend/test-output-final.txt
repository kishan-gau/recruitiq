
> recruitiq-backend@1.0.0 test
> cross-env NODE_ENV=test NODE_OPTIONS=--experimental-vm-modules jest --coverage payTemplateWorkflow-scenario8.e2e.test.js

[dotenv@17.2.3] injecting env (45) from .env.test -- tip: ΓÜÖ∩╕Å  suppress all logs with { quiet: true }
node.exe : ≡ƒº¬ Jest global setup complete
At C:\Program Files\nodejs\npm.ps1:29 char:3
+   & $NODE_EXE $NPM_CLI_JS $args
+   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (≡ƒº¬ Jest global setup complete:String)  
   [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
  console.log
    [dotenv@17.2.3] injecting env (25) from .env -- tip: Γ£à audit secrets and track compliance: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.warn
    ΓÜá∩╕Å  WARNING: JWT_SECRET appears to be weak or test data

    [0m [90m 283 |[39m weakPatterns[33m.[39mforEach(pattern [33m=>[39m {
     [90m 284 |[39m   [36mif[39m (pattern[33m.[39mtest(config[33m.[39mjwt[33m.[39msecret)) {
    [31m[1m>[22m[39m[90m 285 |[39m     console[33m.[39mwarn([32m'ΓÜá∩╕Å  WARNING: JWT_SECRET appears to be weak or test data'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 286 |[39m     console[33m.[39mwarn([32m'   Use cryptographically random secrets in production'[39m)[33m;[39m
     [90m 287 |[39m   }
     [90m 288 |[39m   [36mif[39m (pattern[33m.[39mtest(config[33m.[39mjwt[33m.[39mrefreshSecret)) {[0m

      at warn (src/config/index.js:285:13)
          at Array.forEach (<anonymous>)
      at forEach (src/config/index.js:283:14)

  console.warn
       Use cryptographically random secrets in production

    [0m [90m 284 |[39m   [36mif[39m (pattern[33m.[39mtest(config[33m.[39mjwt[33m.[39msecret)) {
     [90m 285 |[39m     console[33m.[39mwarn([32m'ΓÜá∩╕Å  WARNING: JWT_SECRET appears to be weak or test data'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 286 |[39m     console[33m.[39mwarn([32m'   Use cryptographically random secrets in production'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 287 |[39m   }
     [90m 288 |[39m   [36mif[39m (pattern[33m.[39mtest(config[33m.[39mjwt[33m.[39mrefreshSecret)) {
     [90m 289 |[39m     console[33m.[39mwarn([32m'ΓÜá∩╕Å  WARNING: JWT_REFRESH_SECRET appears to be weak or test data'[39m)[33m;[39m[0m

      at warn (src/config/index.js:286:13)
          at Array.forEach (<anonymous>)
      at forEach (src/config/index.js:283:14)

  console.warn
    ΓÜá∩╕Å  WARNING: JWT_REFRESH_SECRET appears to be weak or test data

    [0m [90m 287 |[39m   }
     [90m 288 |[39m   [36mif[39m (pattern[33m.[39mtest(config[33m.[39mjwt[33m.[39mrefreshSecret)) {
    [31m[1m>[22m[39m[90m 289 |[39m     console[33m.[39mwarn([32m'ΓÜá∩╕Å  WARNING: JWT_REFRESH_SECRET appears to be weak or test data'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 290 |[39m     console[33m.[39mwarn([32m'   Use cryptographically random secrets in production'[39m)[33m;[39m
     [90m 291 |[39m   }
     [90m 292 |[39m })[33m;[39m[0m

      at warn (src/config/index.js:289:13)
          at Array.forEach (<anonymous>)
      at forEach (src/config/index.js:283:14)

  console.warn
       Use cryptographically random secrets in production

    [0m [90m 288 |[39m   [36mif[39m (pattern[33m.[39mtest(config[33m.[39mjwt[33m.[39mrefreshSecret)) {
     [90m 289 |[39m     console[33m.[39mwarn([32m'ΓÜá∩╕Å  WARNING: JWT_REFRESH_SECRET appears to be weak or test data'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 290 |[39m     console[33m.[39mwarn([32m'   Use cryptographically random secrets in production'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 291 |[39m   }
     [90m 292 |[39m })[33m;[39m
     [90m 293 |[39m[0m

      at warn (src/config/index.js:290:13)
          at Array.forEach (<anonymous>)
      at forEach (src/config/index.js:283:14)

{"level":"info","message":"Central logging pool initialized","metadata":{"metadata":{"database":"recruitiq_dev","enabled":true,"environment":"test","host":"localhost","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.125"},"timestamp":"2025-11-19 08:44:14.127"}}
{"level":"info","message":"Rate limiting using memory store (development mode)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.133"},"timestamp":"2025-11-19 08:44:14.133"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.135"},"timestamp":"2025-11-19 08:44:14.135"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.159"},"timestamp":"2025-11-19 08:44:14.159"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.160"},"timestamp":"2025-11-19 08:44:14.160"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.161"},"timestamp":"2025-11-19 08:44:14.161"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.163"},"timestamp":"2025-11-19 08:44:14.163"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.164"},"timestamp":"2025-11-19 08:44:14.164"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.165"},"timestamp":"2025-11-19 08:44:14.165"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.266"},"timestamp":"2025-11-19 08:44:14.266"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.272"},"timestamp":"2025-11-19 08:44:14.272"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.274"},"timestamp":"2025-11-19 08:44:14.275"}}
{"level":"info","message":"Security Monitor initialized","metadata":{"metadata":{"enabled":true,"environment":"test","failedLoginThreshold":5,"hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.416"},"timestamp":"2025-11-19 08:44:14.417"}}
{"level":"info","message":"ΓÜá∩╕Å  TransIP service initialized (API integration pending)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.425"},"timestamp":"2025-11-19 08:44:14.425"}}
{"level":"info","message":"Validating configuration...","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.518"},"timestamp":"2025-11-19 08:44:14.518"}}
{"level":"info","message":"=== Configuration Validation ===","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.518"},"timestamp":"2025-11-19 08:44:14.519"}}
{"level":"info","message":"Γ£ô Required environment variables validated","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.519"},"timestamp":"2025-11-19 08:44:14.519"}}
{"level":"info","message":"Γ£ô Database configured: postgres@localhost:5432/recruitiq_test (pool: 2-10)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.520"},"timestamp":"2025-11-19 08:44:14.520"}}
{"level":"info","message":"Γ£ô CORS configured with 5 allowed origin(s)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.521"},"timestamp":"2025-11-19 08:44:14.521"}}
{"level":"info","message":"≡ƒöì DEBUG Cookie ENV values:","metadata":{"metadata":{"COOKIE_DOMAIN":"","COOKIE_SAME_SITE":"lax","COOKIE_SECURE":"false","NODE_ENV":"test","environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.522"},"timestamp":"2025-11-19 08:44:14.522"}}
{"level":"info","message":"≡ƒöì DEBUG Cookie config.cookie values:","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","sameSite":"lax","secure":false,"service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.522"},"timestamp":"2025-11-19 08:44:14.522"}}
{"level":"info","message":"Γ£ô Cookie config: secure=false, sameSite=lax, domain=none","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.523"},"timestamp":"2025-11-19 08:44:14.523"}}
{"level":"info","message":"Γä╣ Redis disabled (rate limiting will use in-memory store)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.523"},"timestamp":"2025-11-19 08:44:14.523"}}
{"level":"info","message":"Γ£ô All tenant app .env files exist","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.524"},"timestamp":"2025-11-19 08:44:14.525"}}
{"level":"warn","message":"ΓÜá Frontend API URL mismatches detected:","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.527"},"timestamp":"2025-11-19 08:44:14.527"}}
{"level":"warn","message":"  nexus: configured=/api, expected=http://localhost:4000/api","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.527"},"timestamp":"2025-11-19 08:44:14.527"}}
{"level":"warn","message":"  paylinq: configured=/api, expected=http://localhost:4000/api","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.528"},"timestamp":"2025-11-19 08:44:14.528"}}
{"level":"warn","message":"  recruitiq: configured=/api, expected=http://localhost:4000/api","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.528"},"timestamp":"2025-11-19 08:44:14.528"}}
{"level":"warn","message":"  This may cause CORS or connectivity issues","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.528"},"timestamp":"2025-11-19 08:44:14.528"}}
{"level":"info","message":"=== Configuration Validation Complete ===\n","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.529"},"timestamp":"2025-11-19 08:44:14.530"}}
{"level":"info","message":"Security headers initialized","metadata":{"metadata":{"csp":false,"env":"test","environment":"test","hostname":"localhost","hsts":false,"instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.531"},"timestamp":"2025-11-19 08:44:14.531"}}
{"level":"info","message":"CORS initialized","metadata":{"metadata":{"allowedOrigins":["http://localhost:3000","http://localhost:5173","http://localhost:5174","http://localhost:5175","http://localhost:5176"],"credentials":true,"env":"test","environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.533"},"timestamp":"2025-11-19 08:44:14.533"}}
{"level":"info","message":"≡ƒº¬ Test mode: Initializing products without starting server...","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.538"},"timestamp":"2025-11-19 08:44:14.538"}}
{"level":"info","message":"≡ƒöº Initializing Dynamic Product System...","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.538"},"timestamp":"2025-11-19 08:44:14.539"}}
{"level":"info","message":"≡ƒÄ» Initializing Product Manager...","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.539"},"timestamp":"2025-11-19 08:44:14.539"}}
{"level":"info","message":"ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.540"},"timestamp":"2025-11-19 08:44:14.540"}}
{"level":"info","message":"Step 1/3: Loading products...","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.540"},"timestamp":"2025-11-19 08:44:14.540"}}
{"level":"info","message":"≡ƒÜÇ Initializing Product Loader...","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.541"},"timestamp":"2025-11-19 08:44:14.541"}}
(node:31940) ExperimentalWarning: VM Modules is an experimental feature and might 
change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
{"level":"info","message":"Token blacklist Redis connected","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.577"},"timestamp":"2025-11-19 08:44:14.577"}}
{"level":"info","message":"Γ£à License Manager database connected successfully","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.664"},"timestamp":"2025-11-19 08:44:14.664"}}
{"level":"info","message":"Γ£à PostgreSQL connected","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.745"},"timestamp":"2025-11-19 08:44:14.745"}}
{"level":"info","message":"≡ƒôª Found 5 active products","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.757"},"timestamp":"2025-11-19 08:44:14.757"}}
{"level":"info","message":"≡ƒôª Loading product: nexus (nexus)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.758"},"timestamp":"2025-11-19 08:44:14.759"}}
{"level":"info","message":"  Γ£ô Resolved local path: C:\\RecruitIQ\\backend\\src\\products\\nexus\\index.js","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.760"},"timestamp":"2025-11-19 08:44:14.760"}}
{"level":"info","message":"Γ£à Successfully loaded product: nexus","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.838"},"timestamp":"2025-11-19 08:44:14.839"}}
{"level":"info","message":"≡ƒôª Loading product: portal (portal)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.839"},"timestamp":"2025-11-19 08:44:14.839"}}
{"level":"info","message":"  Γèÿ No module resolution found for portal","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.839"},"timestamp":"2025-11-19 08:44:14.840"}}
{"level":"info","message":"  Γèÿ No backend module found for portal - skipping (frontend-only product)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.840"},"timestamp":"2025-11-19 08:44:14.840"}}
{"level":"info","message":"≡ƒôª Loading product: paylinq (paylinq)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.840"},"timestamp":"2025-11-19 08:44:14.840"}}
{"level":"info","message":"  Γ£ô Resolved local path: C:\\RecruitIQ\\backend\\src\\products\\paylinq\\index.js","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:14.841"},"timestamp":"2025-11-19 08:44:14.841"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.348"},"timestamp":"2025-11-19 08:44:15.348"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.382"},"timestamp":"2025-11-19 08:44:15.382"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.462"},"timestamp":"2025-11-19 08:44:15.462"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.473"},"timestamp":"2025-11-19 08:44:15.473"}}
{"level":"warn","message":"Redis disabled or unavailable, using memory store for rate limiting","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.604"},"timestamp":"2025-11-19 08:44:15.604"}}
{"level":"info","message":"Redis caching disabled via environment variable","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.631"},"timestamp":"2025-11-19 08:44:15.631"}}
{"level":"info","message":"Γ£à Successfully loaded product: paylinq","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.639"},"timestamp":"2025-11-19 08:44:15.639"}}
{"level":"info","message":"≡ƒôª Loading product: recruitiq (recruitiq)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.639"},"timestamp":"2025-11-19 08:44:15.639"}}
{"level":"info","message":"  Γèÿ No module resolution found for recruitiq","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.640"},"timestamp":"2025-11-19 08:44:15.640"}}
{"level":"info","message":"  Γèÿ No backend module found for recruitiq - skipping (frontend-only product)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.640"},"timestamp":"2025-11-19 08:44:15.640"}}
{"level":"info","message":"≡ƒôª Loading product: schedulehub (schedulehub)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.640"},"timestamp":"2025-11-19 08:44:15.640"}}
{"level":"info","message":"  Γ£ô Resolved local path: C:\\RecruitIQ\\backend\\src\\products\\schedulehub\\index.js","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.641"},"timestamp":"2025-11-19 08:44:15.641"}}
{"level":"info","message":"Γ£à Successfully loaded product: schedulehub","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.714"},"timestamp":"2025-11-19 08:44:15.714"}}
{"level":"info","message":"Γ£à Product Loader initialized. Loaded 3 products.","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.714"},"timestamp":"2025-11-19 08:44:15.715"}}
{"level":"info","message":"Γ£ô Loaded 3 products\n","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.715"},"timestamp":"2025-11-19 08:44:15.715"}}
{"level":"info","message":"Step 2/3: Registering routes...","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.715"},"timestamp":"2025-11-19 08:44:15.715"}}
{"level":"info","message":"≡ƒ¢ú∩╕Å  Initializing Route Registry...","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.715"},"timestamp":"2025-11-19 08:44:15.715"}}
{"level":"info","message":"  ≡ƒôì Registering routes for: nexus","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.716"},"timestamp":"2025-11-19 08:44:15.716"}}
{"level":"info","message":"     Base path: /nexus","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.716"},"timestamp":"2025-11-19 08:44:15.716"}}
{"level":"info","message":"     Applying 1 middleware(s)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.716"},"timestamp":"2025-11-19 08:44:15.716"}}
{"level":"info","message":"  Γ£à Registered routes for nexus at /nexus","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.717"},"timestamp":"2025-11-19 08:44:15.717"}}
{"level":"info","message":"  ≡ƒôì Registering routes for: paylinq","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.717"},"timestamp":"2025-11-19 08:44:15.717"}}
{"level":"info","message":"     Base path: /paylinq","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.717"},"timestamp":"2025-11-19 08:44:15.717"}}
{"level":"info","message":"     Applying 1 middleware(s)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.717"},"timestamp":"2025-11-19 08:44:15.717"}}
{"level":"info","message":"  Γ£à Registered routes for paylinq at /paylinq","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.718"},"timestamp":"2025-11-19 08:44:15.718"}}
{"level":"info","message":"  ≡ƒôì Registering routes for: schedulehub","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.718"},"timestamp":"2025-11-19 08:44:15.718"}}
{"level":"info","message":"     Base path: /schedulehub","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.718"},"timestamp":"2025-11-19 08:44:15.718"}}
{"level":"info","message":"     Applying 1 middleware(s)","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.718"},"timestamp":"2025-11-19 08:44:15.719"}}
{"level":"info","message":"  Γ£à Registered routes for schedulehub at /schedulehub","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.719"},"timestamp":"2025-11-19 08:44:15.719"}}
{"level":"info","message":"Γ£à Route Registry initialized. Registered 3 product routes.","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.719"},"timestamp":"2025-11-19 08:44:15.720"}}
{"level":"info","message":"Γ£ô Registered routes for 3 products\n","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.720"},"timestamp":"2025-11-19 08:44:15.720"}}
{"level":"info","message":"Step 3/3: Validating configuration...","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.721"},"timestamp":"2025-11-19 08:44:15.721"}}
{"level":"info","message":"Γ£ô All routes validated successfully\n","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.721"},"timestamp":"2025-11-19 08:44:15.722"}}
{"level":"info","message":"≡ƒôè PRODUCT MANAGER SUMMARY","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.722"},"timestamp":"2025-11-19 08:44:15.722"}}
{"level":"info","message":"ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.722"},"timestamp":"2025-11-19 08:44:15.722"}}
{"level":"info","message":"Products:","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.723"},"timestamp":"2025-11-19 08:44:15.723"}}
{"level":"info","message":"  ΓÇó Total loaded: 3","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.723"},"timestamp":"2025-11-19 08:44:15.723"}}
{"level":"info","message":"  ΓÇó With routes: 3","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.723"},"timestamp":"2025-11-19 08:44:15.723"}}
{"level":"info","message":"  ΓÇó With middleware: 3","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.724"},"timestamp":"2025-11-19 08:44:15.724"}}
{"level":"info","message":"\nRoutes:","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.724"},"timestamp":"2025-11-19 08:44:15.724"}}
{"level":"info","message":"  ΓÇó Total registered: 3","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.724"},"timestamp":"2025-11-19 08:44:15.724"}}
{"level":"info","message":"\nRegistered Endpoints:","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.724"},"timestamp":"2025-11-19 08:44:15.725"}}
{"level":"info","message":"  ΓÇó /nexus ΓåÆ nexus (active) [1 middleware]","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.725"},"timestamp":"2025-11-19 08:44:15.725"}}
{"level":"info","message":"  ΓÇó /paylinq ΓåÆ paylinq (active) [1 middleware]","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.725"},"timestamp":"2025-11-19 08:44:15.725"}}
{"level":"info","message":"  ΓÇó /schedulehub ΓåÆ schedulehub (active) [1 middleware]","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.725"},"timestamp":"2025-11-19 08:44:15.725"}}
{"level":"info","message":"","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.725"},"timestamp":"2025-11-19 08:44:15.726"}}
{"level":"info","message":"ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.726"},"timestamp":"2025-11-19 08:44:15.726"}}
{"level":"info","message":"Γ£à Product Manager initialized successfully\n","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.726"},"timestamp":"2025-11-19 08:44:15.726"}}
{"level":"info","message":"Γ£à Dynamic Product System ready","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.726"},"timestamp":"2025-11-19 08:44:15.726"}}
{"level":"info","message":"≡ƒôì Dynamic product routes available at /api/products","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.726"},"timestamp":"2025-11-19 08:44:15.726"}}
{"level":"info","message":"≡ƒº¬ Test mode: Product initialization complete","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:15.726"},"timestamp":"2025-11-19 08:44:15.726"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/auth/tenant/login","query":{},"requestId":"1763552656100-4tne9dyc7","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.102"},"timestamp":"2025-11-19 08:44:16.102"}}
{"level":"info","message":"≡ƒöì DEBUG Setting cookies with config:","metadata":{"metadata":{"accessConfig":{"httpOnly":true,"maxAge":900000,"path":"/","sameSite":"lax","secure":false},"email":"admin@testsrtax.com","environment":"test","hostname":"localhost","instanceId":"unknown","refreshConfig":{"httpOnly":true,"maxAge":604800000,"path":"/","rememberMe":false,"sameSite":"lax","secure":false},"service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.221"},"timestamp":"2025-11-19 08:44:16.221"}}
{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"124ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/tenant/login","requestId":"1763552656100-4tne9dyc7","responseSize":"0KB","service":"recruitiq-api","status":200,"timestamp":"2025-11-19 08:44:16.225"},"timestamp":"2025-11-19 08:44:16.225"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"GET","path":"/api/csrf-token","query":{},"requestId":"1763552656236-ukgv5niw3","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.236"},"timestamp":"2025-11-19 08:44:16.236"}}
{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"3ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"GET","path":"/csrf-token","requestId":"1763552656236-ukgv5niw3","responseSize":"0KB","service":"recruitiq-api","status":200,"timestamp":"2025-11-19 08:44:16.239"},"timestamp":"2025-11-19 08:44:16.239"}}
  console.log
    CSRF Token obtained: Yes

      at Object.<anonymous> (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:95:13)

  console.log
    Auth cookies count after CSRF: 3

      at Object.<anonymous> (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:96:13)

{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/workers","query":{},"requestId":"1763552656252-bo4cifd8d","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.252"},"timestamp":"2025-11-19 08:44:16.252"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

{"level":"info","message":"Received employee data for creation","metadata":{"metadata":{"employeeData":"{\"hrisEmployeeId\":\"EMP-SR-001\",\"employeeNumber\":\"EMP-SR-001\",\"firstName\":\"Jan\",\"lastName\":\"Suriname\",\"email\":\"jan.suriname@testsrtax.com\",\"hireDate\":\"2024-01-01T00:00:00.000Z\",\"status\":\"active\",\"paymentMethod\":\"direct_deposit\"}","environment":"test","hireDate":"2024-01-01T00:00:00.000Z","hireDateType":"string","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.297"},"timestamp":"2025-11-19 08:44:16.297"}}
{"level":"info","message":"Created hris.employee record","metadata":{"metadata":{"employeeId":"43f412d7-de56-4077-847a-ba49beb75f3d","employeeNumber":"EMP-SR-001","environment":"test","hostname":"localhost","instanceId":"unknown","organizationId":"de666070-12f9-4da8-bcdd-b58efe8f9cf0","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.302"},"timestamp":"2025-11-19 08:44:16.302"}}
{"level":"info","message":"Employee payroll record created","metadata":{"metadata":{"employeeId":"f113fbc8-455e-4337-aa8c-f37fb244878b","environment":"test","hostname":"localhost","instanceId":"unknown","organizationId":"de666070-12f9-4da8-bcdd-b58efe8f9cf0","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.309"},"timestamp":"2025-11-19 08:44:16.309"}}
{"level":"info","message":"Employee payroll record created","metadata":{"metadata":{"employeeId":"f113fbc8-455e-4337-aa8c-f37fb244878b","environment":"test","hostname":"localhost","instanceId":"unknown","organizationId":"de666070-12f9-4da8-bcdd-b58efe8f9cf0","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.309","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.309"}}
{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"59ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/","requestId":"1763552656252-bo4cifd8d","responseSize":"1KB","service":"recruitiq-api","status":201,"timestamp":"2025-11-19 08:44:16.311","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.311"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/pay-structures/templates","query":{},"requestId":"1763552656320-9lmb5dm3n","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.320"},"timestamp":"2025-11-19 08:44:16.320"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: undefined,
      assignedWorkerCount: undefined
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

{"level":"info","message":"Pay structure template created","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","organizationId":"de666070-12f9-4da8-bcdd-b58efe8f9cf0","service":"recruitiq-api","templateCode":"SR_TAX_TEMPLATE","templateId":"25ed9379-884c-4cd9-8810-bf03f194ead7","timestamp":"2025-11-19 08:44:16.388","userId":"c74c699b-5e13-450b-ad26-4343add960a0","version":"1.0.0"},"timestamp":"2025-11-19 08:44:16.388"}}
{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"69ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/templates","requestId":"1763552656320-9lmb5dm3n","responseSize":"1KB","service":"recruitiq-api","status":201,"timestamp":"2025-11-19 08:44:16.389","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.389"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/pay-structures/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","query":{},"requestId":"1763552656398-vpk66oo41","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.398"},"timestamp":"2025-11-19 08:44:16.398"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: 0,
      assignedWorkerCount: 0
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"25ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","requestId":"1763552656398-vpk66oo41","responseSize":"1KB","service":"recruitiq-api","status":201,"timestamp":"2025-11-19 08:44:16.424","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.424"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/pay-structures/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","query":{},"requestId":"1763552656432-4kgkrlksa","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.432"},"timestamp":"2025-11-19 08:44:16.432"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: 1,
      assignedWorkerCount: 0
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"21ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","requestId":"1763552656432-4kgkrlksa","responseSize":"1KB","service":"recruitiq-api","status":201,"timestamp":"2025-11-19 08:44:16.454","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.454"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/pay-structures/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","query":{},"requestId":"1763552656461-fm85s4w9e","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.461"},"timestamp":"2025-11-19 08:44:16.461"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: 2,
      assignedWorkerCount: 0
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"32ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","requestId":"1763552656461-fm85s4w9e","responseSize":"1KB","service":"recruitiq-api","status":201,"timestamp":"2025-11-19 08:44:16.493","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.493"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/pay-structures/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","query":{},"requestId":"1763552656501-dkc1d4f2m","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.501"},"timestamp":"2025-11-19 08:44:16.502"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: 3,
      assignedWorkerCount: 0
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"24ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","requestId":"1763552656501-dkc1d4f2m","responseSize":"1KB","service":"recruitiq-api","status":201,"timestamp":"2025-11-19 08:44:16.525","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.525"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/pay-structures/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","query":{},"requestId":"1763552656537-qvxyhsnss","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.537"},"timestamp":"2025-11-19 08:44:16.537"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: 4,
      assignedWorkerCount: 0
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"23ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","requestId":"1763552656537-qvxyhsnss","responseSize":"1KB","service":"recruitiq-api","status":201,"timestamp":"2025-11-19 08:44:16.560","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.560"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/pay-structures/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","query":{},"requestId":"1763552656568-3ymfz55ug","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.568"},"timestamp":"2025-11-19 08:44:16.568"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: 5,
      assignedWorkerCount: 0
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

{"level":"error","message":"Error adding component to template","metadata":{"metadata":{"environment":"test","error":"Invalid formula: this.formulaEngine.parseFormula is not a function","hostname":"localhost","instanceId":"unknown","organizationId":"de666070-12f9-4da8-bcdd-b58efe8f9cf0","service":"recruitiq-api","templateId":"25ed9379-884c-4cd9-8810-bf03f194ead7","timestamp":"2025-11-19 08:44:16.591","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.591"}}
{"level":"warn","message":"Request error","metadata":{"metadata":{"duration":"24ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/components","requestId":"1763552656568-3ymfz55ug","responseSize":"0KB","service":"recruitiq-api","status":400,"timestamp":"2025-11-19 08:44:16.592","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.592"}}
  console.log
    
    === COMPONENT ADDITION FAILED ===

      at addComponentToTemplate (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:194:15)

  console.log
    Status: 400

      at addComponentToTemplate (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:195:15)

  console.log
    Error details: {
      "success": false,
      "error": "ValidationError",
      "message": "Invalid formula: this.formulaEngine.parseFormula is not a function",
      "rateLimit": {
        "limit": 100000,
        "remaining": 99990,
        "reset": "900"
      }
    }

      at addComponentToTemplate (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:196:15)

  console.log
    Sent data: {
      "componentCode": "LOONBELASTING",
      "componentName": "Loonbelasting (Wage Tax)",
      "componentCategory": "tax",
      "calculationType": "formula",
      "formulaExpression": "\n        // Wet Loonbelasting Article 14 Progressive Tax Brackets\n        // Tax-free threshold: SRD 9,000/month (108,000/year)\n        let taxableIncome = gross_pay - pre_tax_deductions - 9000;\n        if (taxableIncome <= 0) return 0;\n        \n        let tax = 0;\n        // Bracket 1: 0 - 3,500 (42,000/12) @ 8%\n        if (taxableIncome > 0) {\n          tax += Math.min(taxableIncome, 3500) * 0.08;\n        }\n        // Bracket 2: 3,500 - 7,000 (84,000/12) @ 18%\n        if (taxableIncome > 3500) {\n          tax += Math.min(taxableIncome - 3500, 3500) * 0.18;\n        }\n        // Bracket 3: 7,000 - 10,500 (126,000/12) @ 28%\n        if (taxableIncome > 7000) {\n          tax += Math.min(taxableIncome - 7000, 3500) * 0.28;\n        }\n        // Bracket 4: 10,500+ @ 38%\n        if (taxableIncome > 10500) {\n          tax += (taxableIncome - 10500) * 0.38;\n        }\n        return tax;\n      ",
      "sequenceOrder": 6,
      "isMandatory": true,
      "displayOnPayslip": true
    }

      at addComponentToTemplate (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:197:15)

  console.log
    ================================

      at addComponentToTemplate (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:198:15)

{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/pay-structures/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/publish","query":{},"requestId":"1763552656604-uiqrn2vl7","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.604"},"timestamp":"2025-11-19 08:44:16.604"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: 5,
      assignedWorkerCount: 0
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: undefined,
      assignedWorkerCount: undefined
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

{"level":"info","message":"Pay structure template published","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","organizationId":"de666070-12f9-4da8-bcdd-b58efe8f9cf0","service":"recruitiq-api","templateCode":"SR_TAX_TEMPLATE","templateId":"25ed9379-884c-4cd9-8810-bf03f194ead7","timestamp":"2025-11-19 08:44:16.634","userId":"c74c699b-5e13-450b-ad26-4343add960a0","version":"1.0.0"},"timestamp":"2025-11-19 08:44:16.634"}}
{"level":"info","message":"Request completed","metadata":{"metadata":{"duration":"32ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/templates/25ed9379-884c-4cd9-8810-bf03f194ead7/publish","requestId":"1763552656604-uiqrn2vl7","responseSize":"1KB","service":"recruitiq-api","status":200,"timestamp":"2025-11-19 08:44:16.636","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.636"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/pay-structures/workers/f113fbc8-455e-4337-aa8c-f37fb244878b/assignments","query":{},"requestId":"1763552656645-o6hhvkglx","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.645"},"timestamp":"2025-11-19 08:44:16.645"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

  console.log
    After parseInt conversion: {
      componentsCount: undefined,
      activeWorkersCount: undefined,
      componentCount: 5,
      assignedWorkerCount: 0
    }

      at log (src/products/paylinq/utils/dtoMapper.js:953:11)

{"level":"info","message":"Found overlapping structures","metadata":{"metadata":{"count":0,"effectiveFrom":"2024-11-01T00:00:00.000Z","effectiveTo":"9999-12-31","employeeId":"f113fbc8-455e-4337-aa8c-f37fb244878b","environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.669"},"timestamp":"2025-11-19 08:44:16.669"}}
{"level":"info","message":"INSERT worker_pay_structure values","metadata":{"metadata":{"effectiveFrom":"2024-11-01T00:00:00.000Z","employeeId":"f113fbc8-455e-4337-aa8c-f37fb244878b","environment":"test","hostname":"localhost","instanceId":"unknown","isCurrent":true,"service":"recruitiq-api","templateVersionId":"25ed9379-884c-4cd9-8810-bf03f194ead7","timestamp":"2025-11-19 08:44:16.670"},"timestamp":"2025-11-19 08:44:16.670"}}
{"level":"error","message":"Database query error","metadata":{"metadata":{"code":"23503","environment":"test","error":"insert or update on table \"worker_pay_structure\" violates foreign key constraint \"worker_pay_structure_employee_id_fkey\"","hostname":"localhost","instanceId":"unknown","metadata":{"userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"params":"[17 parameters]","potentialInjection":false,"query":"INSERT INTO payroll.worker_pay_structure\n      (organization_id, employee_id, template_version_id, base_salary,\n       assignment_type, assignment_source, assigned_by, assignment_reason,\n       effect","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.674"},"timestamp":"2025-11-19 08:44:16.674"}}
{"level":"error","message":"Database query error:","metadata":{"metadata":{"environment":"test","error":"insert or update on table \"worker_pay_structure\" violates foreign key constraint \"worker_pay_structure_employee_id_fkey\"","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","text":"INSERT INTO payroll.worker_pay_structure\n      (organization_id, employee_id, template_version_id, base_salary,\n       assignment_type, assignment_source, assigned_by, assignment_reason,\n       effective_from, effective_to, is_current,\n       pay_frequency, currency, approval_status, tags, notes, created_by)\n      VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)\n      RETURNING *","timestamp":"2025-11-19 08:44:16.675"},"timestamp":"2025-11-19 08:44:16.675"}}
{"level":"error","message":"Error assigning pay structure to worker","metadata":{"metadata":{"code":"23503","employeeId":"f113fbc8-455e-4337-aa8c-f37fb244878b","environment":"test","error":"insert or update on table \"worker_pay_structure\" violates foreign key constraint \"worker_pay_structure_employee_id_fkey\"","hostname":"localhost","instanceId":"unknown","organizationId":"de666070-12f9-4da8-bcdd-b58efe8f9cf0","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.675","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.676"}}
{"level":"warn","message":"Request error","metadata":{"metadata":{"duration":"32ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/workers/f113fbc8-455e-4337-aa8c-f37fb244878b/assignments","requestId":"1763552656645-o6hhvkglx","responseSize":"0KB","service":"recruitiq-api","status":404,"timestamp":"2025-11-19 08:44:16.677","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.677"}}
  console.log
    
    === ASSIGNMENT FAILED ===

      at assignTemplateToWorker (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:219:15)

  console.log
    Status: 404

      at assignTemplateToWorker (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:220:15)

  console.log
    Error details: {
      "success": false,
      "error": "EmployeeNotFound",
      "message": "Employee with ID f113fbc8-455e-4337-aa8c-f37fb244878b does not exist in the organization",
      "rateLimit": {
        "limit": 100000,
        "remaining": 99988,
        "reset": "900"
      }
    }

      at assignTemplateToWorker (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:221:15)

  console.log
    Sent data: {
      "templateId": "25ed9379-884c-4cd9-8810-bf03f194ead7",
      "effectiveFrom": "2024-11-01"
    }

      at assignTemplateToWorker (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:222:15)

  console.log
    ========================

      at assignTemplateToWorker (tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:223:15)

{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/api/products/paylinq/payroll-runs","query":{},"requestId":"1763552656689-8dfpuaani","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.689"},"timestamp":"2025-11-19 08:44:16.690"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

{"level":"info","message":"Γ£à PostgreSQL connected","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.760"},"timestamp":"2025-11-19 08:44:16.760"}}
{"level":"warn","message":"Validation failed","metadata":{"metadata":{"environment":"test","errors":[{"field":"payrollName","message":"Payroll name is required","type":"any.required"},{"field":"paymentDate","message":"Payment date is required","type":"any.required"}],"hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"POST","path":"/","service":"recruitiq-api","source":"body","timestamp":"2025-11-19 08:44:16.780"},"timestamp":"2025-11-19 08:44:16.780"}}
{"level":"warn","message":"Request error","metadata":{"metadata":{"duration":"92ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"POST","path":"/","requestId":"1763552656689-8dfpuaani","responseSize":"0KB","service":"recruitiq-api","status":400,"timestamp":"2025-11-19 08:44:16.781","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.781"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"GET","path":"/api/products/paylinq/payroll-runs/undefined/paychecks","query":{},"requestId":"1763552656789-zrk8z4z66","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.789"},"timestamp":"2025-11-19 08:44:16.789"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

{"level":"warn","message":"Validation failed","metadata":{"metadata":{"environment":"test","errors":[{"field":"id","message":"\"id\" must be a valid GUID","type":"string.guid"}],"hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"GET","path":"/undefined/paychecks","service":"recruitiq-api","source":"params","timestamp":"2025-11-19 08:44:16.806"},"timestamp":"2025-11-19 08:44:16.806"}}
{"level":"warn","message":"Request error","metadata":{"metadata":{"duration":"18ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"GET","path":"/undefined/paychecks","requestId":"1763552656789-zrk8z4z66","responseSize":"0KB","service":"recruitiq-api","status":400,"timestamp":"2025-11-19 08:44:16.807","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.807"}}
{"level":"info","message":"Incoming request","metadata":{"metadata":{"environment":"test","hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"GET","path":"/api/products/paylinq/payroll-runs/undefined/paychecks","query":{},"requestId":"1763552656815-n80p0k9ol","service":"recruitiq-api","timestamp":"2025-11-19 08:44:16.815"},"timestamp":"2025-11-19 08:44:16.815"}}
  console.log
    Signed cookies: [Object: null prototype] { _csrf: 'baTVcc0zFqCzwBoW7jdHjXep' }

      at log (src/products/paylinq/routes/routes.js:48:11)

  console.log
    Raw cookie header: tenant_access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsImVtYWlsIjoiYWRtaW5AdGVzdHNydGF4LmNvbSIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwiZW1wbG95ZWVJZCI6bnVsbCwidHlwZSI6InRlbmFudCIsImVuYWJsZWRQcm9kdWN0cyI6WyJuZXh1cyIsInBheWxpbnEiXSwicHJvZHVjdFJvbGVzIjp7Im5leHVzIjoiYWRtaW4iLCJwYXlsaW5xIjoiYWRtaW4ifSwib3JnYW5pemF0aW9uVGllciI6InByb2Zlc3Npb25hbCIsImlhdCI6MTc2MzU1MjY1NiwiZXhwIjoxNzYzNTUzNTU2fQ.zN26IKLJdgORgbNXMrVGvQtX7__YJfw2DDRyuS6nSTU; Max-Age=900; Path=/; Expires=Wed, 19 Nov 2025 11:59:16 GMT; HttpOnly; SameSite=Lax; tenant_refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImM3NGM2OTliLTVlMTMtNDUwYi1hZDI2LTQzNDNhZGQ5NjBhMCIsIm9yZ2FuaXphdGlvbklkIjoiZGU2NjYwNzAtMTJmOS00ZGE4LWJjZGQtYjU4ZWZlOGY5Y2YwIiwidG9rZW5JZCI6IjJkNmNmNTYxLTRmMzQtNGY2Ni1hYjYzLTJmZjliZmFhMmFhZCIsInR5cGUiOiJ0ZW5hbnQiLCJpYXQiOjE3NjM1NTI2NTYsImV4cCI6MTc2NDE1NzQ1Nn0.l-hB6R0N5uNK6i9sQAkdurm7KnzSqTVgxakpFLxRD_I; Max-Age=604800; Path=/; Expires=Wed, 26 Nov 2025 11:44:16 GMT; HttpOnly; SameSite=Lax; _csrf=s%3AbaTVcc0zFqCzwBoW7jdHjXep.qN4yYGZYbyukoN9FyChQNTpOHdkzwpNzEivNVmNSCSY; Max-Age=3600000; Path=/; HttpOnly; SameSite=Lax

      at log (src/products/paylinq/routes/routes.js:49:11)

  console.log
    =========================

      at log (src/products/paylinq/routes/routes.js:50:11)

{"level":"warn","message":"Validation failed","metadata":{"metadata":{"environment":"test","errors":[{"field":"id","message":"\"id\" must be a valid GUID","type":"string.guid"}],"hostname":"localhost","instanceId":"unknown","ip":"::ffff:127.0.0.1","method":"GET","path":"/undefined/paychecks","service":"recruitiq-api","source":"params","timestamp":"2025-11-19 08:44:16.828"},"timestamp":"2025-11-19 08:44:16.828"}}
{"level":"warn","message":"Request error","metadata":{"metadata":{"duration":"14ms","environment":"test","hostname":"localhost","instanceId":"unknown","method":"GET","path":"/undefined/paychecks","requestId":"1763552656815-n80p0k9ol","responseSize":"0KB","service":"recruitiq-api","status":400,"timestamp":"2025-11-19 08:44:16.830","userId":"c74c699b-5e13-450b-ad26-4343add960a0"},"timestamp":"2025-11-19 08:44:16.830"}}
FAIL tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js (10.446 s)
  Scenario 8: Surinamese Tax Law Compliance (Wet Loonbelasting)
    ΓêÜ should create worker with children for kinderbijslag (69 ms)
    ΓêÜ should create Surinamese tax-compliant pay template (78 ms)
    ΓêÜ should add basic salary component (taxable) (34 ms)
    ΓêÜ should add vakantiegeld component (tax-free up to SRD 10,016/year - Art 10.i) 
(29 ms)
    ΓêÜ should add kinderbijslag component (child benefit - Art 10.h) (38 ms)
    ΓêÜ should add gratificatie component (bonus - Art 10.j) (32 ms)
    ΓêÜ should add pre-tax pension contribution (Art 10.f) (35 ms)
    ├ù should add Surinamese wage tax component (Progressive brackets - Art 14) (36 
ms)
    ├ù should publish template (40 ms)
    ├ù should assign template to worker (43 ms)
    ├ù should run payroll with Surinamese tax calculations (99 ms)
    ├ù should validate Surinamese tax calculation on paycheck (25 ms)
    ├ù should verify compliance with Wet Loonbelasting (21 ms)

  ΓùÅ Scenario 8: Surinamese Tax Law Compliance (Wet Loonbelasting) ΓÇ║ should add 
Surinamese wage tax component (Progressive brackets - Art 14)

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 400

    [0m [90m 199 |[39m     }
     [90m 200 |[39m
    [31m[1m>[22m[39m[90m 201 |[39m     
expect(response[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 202 |[39m     [36mreturn[39m 
response[33m.[39mbody[33m.[39mcomponent[33m;[39m
     [90m 203 |[39m   }
     [90m 204 |[39m[0m

      at addComponentToTemplate 
(tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:201:29)
      at Object.<anonymous> 
(tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:394:23)

  ΓùÅ Scenario 8: Surinamese Tax Law Compliance (Wet Loonbelasting) ΓÇ║ should 
publish template

    expect(received).toBe(expected) // Object.is equality

    Expected: "published"
    Received: "active"

    [0m [90m 441 |[39m
     [90m 442 |[39m     
expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 443 |[39m     expect(response[33m.[39mbody[33m.[39m
template[33m.[39mstatus)[33m.[39mtoBe([32m'published'[39m)[33m;[39m
     [90m     |[39m                                           [31m[1m^[22m[39m
     [90m 444 |[39m   })[33m;[39m
     [90m 445 |[39m
     [90m 446 |[39m   it([32m'should assign template to worker'[39m[33m,[39m 
[36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> 
(tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:443:43)

  ΓùÅ Scenario 8: Surinamese Tax Law Compliance (Wet Loonbelasting) ΓÇ║ should assign 
template to worker

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 404

    [0m [90m 224 |[39m     }
     [90m 225 |[39m
    [31m[1m>[22m[39m[90m 226 |[39m     
expect(response[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 227 |[39m     [36mreturn[39m 
response[33m.[39mbody[33m.[39massignment[33m;[39m
     [90m 228 |[39m   }
     [90m 229 |[39m[0m

      at assignTemplateToWorker 
(tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:226:29)
      at Object.<anonymous> 
(tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:450:24)

  ΓùÅ Scenario 8: Surinamese Tax Law Compliance (Wet Loonbelasting) ΓÇ║ should run 
payroll with Surinamese tax calculations

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 400

    [0m [90m 239 |[39m       [33m.[39msend(payrollData)[33m;[39m
     [90m 240 |[39m
    [31m[1m>[22m[39m[90m 241 |[39m     
expect(createResponse[33m.[39mstatus)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 242 |[39m     [36mconst[39m payrollRunId [33m=[39m 
createResponse[33m.[39mbody[33m.[39mpayrollRun[33m.[39mid[33m;[39m
     [90m 243 |[39m     testPayrollRuns[33m.[39mpush(payrollRunId)[33m;[39m
     [90m 244 |[39m[0m

      at runPayroll 
(tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:241:35)
      at Object.<anonymous> 
(tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:458:20)

  ΓùÅ Scenario 8: Surinamese Tax Law Compliance (Wet Loonbelasting) ΓÇ║ should 
validate Surinamese tax calculation on paycheck

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

    [0m [90m 476 |[39m       
[33m.[39m[36mset[39m([32m'X-CSRF-Token'[39m[33m,[39m csrfToken)[33m;[39m
     [90m 477 |[39m
    [31m[1m>[22m[39m[90m 478 |[39m     
expect(paychecksResponse[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 479 |[39m
     [90m 480 |[39m     [36mconst[39m paycheck [33m=[39m 
paychecksResponse[33m.[39mbody[33m.[39mpaychecks[33m.[39mfind(pc [33m=>[39m 
pc[33m.[39memployeeId [33m===[39m workerId)[33m;[39m
     [90m 481 |[39m     expect(paycheck)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> 
(tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:478:38)

  ΓùÅ Scenario 8: Surinamese Tax Law Compliance (Wet Loonbelasting) ΓÇ║ should verify 
compliance with Wet Loonbelasting

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

    [0m [90m 543 |[39m       
[33m.[39m[36mset[39m([32m'X-CSRF-Token'[39m[33m,[39m csrfToken)[33m;[39m
     [90m 544 |[39m
    [31m[1m>[22m[39m[90m 545 |[39m     
expect(paychecksResponse[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 546 |[39m
     [90m 547 |[39m     [36mconst[39m paycheck [33m=[39m 
paychecksResponse[33m.[39mbody[33m.[39mpaychecks[33m.[39mfind(pc [33m=>[39m 
pc[33m.[39memployeeId [33m===[39m workerId)[33m;[39m
     [90m 548 |[39m[0m

      at Object.<anonymous> 
(tests/products/paylinq/e2e/payTemplateWorkflow-scenario8.e2e.test.js:545:38)

--------------------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------
File                                  | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                          
--------------------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------
All files                             |    8.55 |     6.05 |    7.15 |    8.69 |                                                                                                                            
 config                               |      50 |    58.82 |   47.22 |   50.57 |                                                                                                                            
  centralDatabase.js                  |   31.25 |    36.36 |   14.28 |   31.25 | 44,48,57-61,70-73,80-99,107-128,139-145                                                                                    
  cookie.js                           |      60 |    35.29 |      50 |      60 | 32,92-111                                                                                                                  
  database.js                         |      54 |    68.75 |   28.57 |      54 | 29-30,47,54,66,81,89-100,106-119,128-132                                                                                   
  index.js                            |   29.57 |    65.08 |      25 |   30.88 | 246-247,251-254,258-259,263-266,271-273,295-296,305-355                                                                    
  validator.js                        |   73.03 |     57.4 |   83.33 |   73.56 | 32,37,41,54,59,88,93,98,111,117,135,140-141,187,196-199,225-239                                                            
 controllers                          |    2.04 |        0 |       0 |    2.05 |                                                                                                                            
  applicationController.js            |       0 |        0 |       0 |       0 | 8-578                                                                                                                      
  applicationController.refactored.js |    1.69 |        0 |       0 |    1.69 | 17-296                                                                                                                     
  candidateController.js              |    1.63 |        0 |       0 |    1.66 | 18-260                                                                                                                     
  communicationController.js          |    2.04 |        0 |       0 |    2.08 | 25-225                                                                                                                     
  emailSettingsController.js          |       0 |        0 |       0 |       0 | 17-337                                                                                                                     
  flowTemplateController.js           |    2.52 |        0 |       0 |    2.52 | 42-420                                                                                                                     
  interviewController.js              |       0 |        0 |       0 |       0 | 8-563                                                                                                                      
  interviewController.refactored.js   |    1.49 |        0 |       0 |    1.49 | 17-330                                                                                                                     
  jobController.js                    |    1.31 |        0 |       0 |    1.31 | 18-352                                                                                                                     
  mfaController.js                    |    3.57 |        0 |       0 |    3.57 | 23-53,66-104,117-289,302-447,461-554,567-634,646-689                                                                       
  organizationController.js           |    1.49 |        0 |       0 |    1.51 | 22-223                                                                                                                     
  platformUserController.js           |    7.87 |        0 |       0 |    7.87 | 41-104,116-180,192-230,242-316,328-392,404-441,453-482                                                                     
  publicController.js                 |    0.73 |        0 |       0 |    0.74 | 13-45,87-679                                                                                                               
  userController.js                   |     2.8 |        0 |       0 |     2.8 | 32-366                                                                                                                     
  workspaceController.js              |    1.48 |        0 |       0 |    1.48 | 24-481                                                                                                                     
 controllers/auth                     |   20.72 |    17.24 |    9.09 |   20.72 |                                                                                                                            
  platformAuthController.js           |    6.49 |        0 |       0 |    6.49 | 19-128,139-219,230-269,281-311,323-340                                                                                     
  tenantAuthController.js             |   30.17 |    27.39 |   16.66 |   30.17 | 24,34,44,52,60,71-73,88-93,109,187-188,200-309,321-362,374-409,421-441,454-512                                             
 controllers/paylinq                  |       0 |        0 |       0 |       0 |                                                                                                                            
  componentController.js              |       0 |        0 |       0 |       0 | 15-102                                                                                                                     
 database                             |       0 |        0 |       0 |       0 |                                                                                                                            
  seed-admin-users.js                 |       0 |        0 |       0 |       0 | 7-297                                                                                                                      
 dto                                  |       0 |        0 |       0 |       0 |                                                                                                                            
  componentDto.js                     |       0 |        0 |       0 |       0 | 12-131                                                                                                                     
 integrations                         |   12.87 |       20 |    12.5 |      13 |                                                                                                                            
  cloudwatch.js                       |   12.19 |    16.66 |   14.28 |    12.5 | 20-166                                                                                                                     
  datadog.js                          |   13.33 |       22 |   11.11 |   13.33 | 23-281                                                                                                                     
 middleware                           |   24.64 |    17.85 |   32.87 |   24.61 |                                                                                                                            
  auth.js                             |   26.17 |    16.03 |   38.46 |   26.35 | 19-100,130-136,147-153,161-167,175,191,199,207,222,249-253,258-259,273-294,306-337,353-358,362-370,386-407,418-459,478-529 
  auth.old.js                         |       0 |        0 |       0 |       0 | 7-349                                                                                                                      
  checkFeature.js                     |    5.08 |        0 |   14.28 |    5.35 | 16-111,123-215                                                                                                             
  cors.js                             |   23.72 |     12.5 |   63.63 |   23.72 | 24-60,121-176,186-192,206                                                                                                  
  csrf.js                             |   39.02 |    38.88 |   66.66 |   38.46 | 91-99,119-120,133-217                                                                                                      
  errorHandler.js                     |    6.81 |      0.8 |      10 |    6.87 | 23,49-118,135-442                                                                                                          
  fileUpload.js                       |       0 |        0 |       0 |       0 | 23-319                                                                                                                     
  massAssignmentProtection.js         |    4.49 |     2.63 |    5.88 |    4.54 | 74-296,327-347                                                                                                             
  queryLogger.js                      |   44.23 |     40.9 |      25 |   44.23 | 87,103-144,184-231                                                                                                         
  rateLimit.js                        |   41.11 |    35.36 |      32 |   41.11 | 19,29-69,78-81,87-88,98,152-168,185-198,231-240,267,320-346,386-390                                                        
  requestId.js                        |     100 |      100 |     100 |     100 |                                                                                                                            
  requestLogger.js                    |    90.9 |    57.14 |     100 |    90.9 | 59,68                                                                                                                      
  requestSecurity.js                  |   60.93 |    45.83 |    87.5 |   62.18 | 68,82,96-100,114,121-153,189,193,203,210,225,234,241,253,276-282,305-311,326-336,345-352,407,422,432-437                   
  requireFeature.js                   |       0 |        0 |       0 |       0 | 13-429                                                                                                                     
  requireOrganization.js              |   66.66 |       50 |     100 |   66.66 | 23-31,46-54                                                                                                                
  securityHeaders.js                  |      90 |       50 |     100 |      90 | 133-134                                                                                                                    
  securityMonitoring.js               |       0 |        0 |       0 |       0 | 17-323                                                                                                                     
  timezone.js                         |   61.29 |       50 |      80 |   61.29 | 28-29,34-35,40-41,55,66-86                                                                                                 
  validation.js                       |   25.92 |    13.55 |   45.45 |   25.31 | 19,29-33,87-94,122,128-334                                                                                                 
 models                               |    5.71 |     6.04 |    6.75 |    5.82 |                                                                                                                            
  Organization.js                     |       0 |        0 |       0 |       0 | 14-135                                                                                                                     
  PlatformUser.js                     |       0 |        0 |       0 |       0 | 25-376                                                                                                                     
  RefreshToken.js                     |       0 |        0 |       0 |       0 | 10-248                                                                                                                     
  TenantUser.js                       |   17.02 |    14.94 |    23.8 |   17.14 | 24-112,148,151,154,157,195,198,201,204,215-262,291-346,354,357,366-508                                                     
  User.js                             |       0 |        0 |       0 |       0 | 18-401                                                                                                                     
 modules/license                      |       0 |        0 |       0 |       0 |                                                                                                                            
  index.js                            |       0 |        0 |       0 |       0 |                                                                                                                            
 modules/license/config               |       0 |        0 |       0 |       0 |                                                                                                                            
  database.js                         |       0 |        0 |       0 |       0 | 4-31                                                                                                                       
 modules/license/controllers          |    1.53 |        0 |       0 |    1.57 |                                                                                                                            
  adminController.js                  |     1.2 |        0 |       0 |    1.23 | 11-244                                                                                                                     
  customerController.js               |    1.49 |        0 |       0 |    1.61 | 11-142                                                                                                                     
  licenseController.js                |    1.21 |        0 |       0 |    1.23 | 9-209                                                                                                                      
  telemetryController.js              |    2.77 |        0 |       0 |    2.77 | 7-90                                                                                                                       
  tierController.js                   |    1.63 |        0 |       0 |    1.63 | 9-185                                                                                                                      
  validationController.js             |    1.63 |        0 |       0 |    1.63 | 7-166                                                                                                                      
 modules/license/middleware           |   10.71 |        0 |   16.66 |   10.71 |                                                                                                                            
  audit.js                            |   14.28 |        0 |      25 |   14.28 | 9-53                                                                                                                       
  auth.js                             |       0 |        0 |       0 |       0 | 7-69                                                                                                                       
  errorHandler.js                     |      25 |        0 |      25 |      25 | 5-39,49,60                                                                                                                 
 modules/license/models               |       0 |        0 |       0 |       0 |                                                                                                                            
  AdminUser.js                        |       0 |        0 |       0 |       0 | 7-115                                                                                                                      
  Customer.js                         |       0 |        0 |       0 |       0 | 19-243                                                                                                                     
  Instance.js                         |       0 |        0 |       0 |       0 | 13-123                                                                                                                     
  License.js                          |       0 |        0 |       0 |       0 | 18-366                                                                                                                     
  TierPreset.js                       |       0 |        0 |       0 |       0 | 12-222                                                                                                                     
  UsageEvent.js                       |       0 |        0 |       0 |       0 | 15-184                                                                                                                     
 modules/license/routes               |     100 |      100 |     100 |     100 |                                                                                                                            
  admin.js                            |     100 |      100 |     100 |     100 |                                                                                                                            
  telemetry.js                        |     100 |      100 |     100 |     100 |                                                                                                                            
  tiers.js                            |     100 |      100 |     100 |     100 |                                                                                                                            
  validation.js                       |     100 |      100 |     100 |     100 |                                                                                                                            
 modules/license/services             |       0 |        0 |       0 |       0 |                                                                                                                            
  LicenseGenerator.js                 |       0 |        0 |       0 |       0 | 12-197                                                                                                                     
  LicenseValidator.js                 |       0 |        0 |       0 |       0 | 14-278                                                                                                                     
  TierManagement.js                   |       0 |        0 |       0 |       0 | 18-390                                                                                                                     
  UsageTracker.js                     |       0 |        0 |       0 |       0 | 12-204                                                                                                                     
 products/core                        |   49.28 |    44.44 |   44.89 |   49.64 |                                                                                                                            
  ProductLoader.js                    |   53.27 |    57.14 |   55.55 |   53.77 | 40,48-49,62-63,103-104,116-123,139-163,208-209,218,223,228,238,252-308                                                     
  ProductManager.js                   |   46.34 |       25 |   26.66 |   46.34 | 23-24,44,59-61,100-237                                                                                                     
  RouteRegistry.js                    |   47.25 |     37.5 |      50 |   47.77 | 28-29,37,45-46,58-59,106-107,118,129-195,222,240-264,277,285                                                               
  index.js                            |       0 |        0 |       0 |       0 |                                                                                                                            
 products/nexus                       |      40 |      100 |       0 |      40 |                                                                                                                            
  index.js                            |      40 |      100 |       0 |      40 | 32-36,54-75                                                                                                                
 products/nexus/config                |       0 |        0 |       0 |       0 |                                                                                                                            
  productConfig.js                    |       0 |        0 |       0 |       0 |                                                                                                                            
 products/nexus/controllers           |    9.78 |        0 |    7.04 |      10 |                                                                                                                            
  attendanceController.js             |   13.51 |        0 |   11.11 |   13.88 | 20-26,35-47,56-64,73-90,99-105,114-135,144-150,159-165                                                                     
  benefitsController.js               |   13.04 |        0 |    9.09 |   13.33 | 22-28,37-45,54-68,77-85,96-102,111-119,128-144,153-161,170-177,186-193                                                     
  contractController.js               |   12.64 |        0 |      10 |   13.09 | 20-26,35-43,52-67,76-84,93-101,110-126,135-143,152-163,172-179                                                             
  departmentController.js             |   13.69 |        0 |   11.11 |   14.08 | 20-26,35-43,52-60,69-77,86-102,111-118,127-133,142-155                                                                     
  documentController.js               |   12.74 |        0 |    8.33 |   13.13 | 20-26,35-43,52-60,69-77,86-103,112-125,134-141,150-156,165-187,196-203,212-218                                             
  employeeController.js               |   12.96 |        0 |    8.33 |   13.59 | 22-28,37-45,54-88,97-105,114-122,131-146,155-165,174-184,193-201,210-216,225-237                                           
  index.js                            |       0 |        0 |       0 |       0 |                                                                                                                            
  locationController.js               |   13.33 |        0 |   11.11 |   13.69 | 20-26,35-43,52-60,69-77,86-103,112-120,129-137,146-152                                                                     
  performanceController.js            |   12.87 |        0 |    8.33 |    13.4 | 22-28,37-45,54-68,77-85,94-100,111-117,126-134,143-157,166-172,183-189,198-211                                             
  productConfigController.js          |       0 |        0 |       0 |       0 | 14-147                                                                                                                     
  productController.js                |       0 |        0 |       0 |       0 | 14-189                                                                                                                     
  productFeatureController.js         |       0 |        0 |       0 |       0 | 14-239                                                                                                                     
  productPermissionController.js      |       0 |        0 |       0 |       0 | 14-217                                                                                                                     
  reportsController.js                |   14.28 |        0 |    12.5 |   14.28 | 20-26,35-50,59-74,83-98,107-122,131-137,146-152                                                                            
  timeOffController.js                |   12.85 |        0 |    12.5 |   13.63 | 20-26,35-43,52-60,69-88,97-104,113-119,128-151                                                                             
  userAccessController.js             |    9.09 |        0 |       0 |    9.09 | 16-64,76-103,116-143,155-189                                                                                               
 products/nexus/middleware            |       0 |        0 |       0 |       0 |                                                                                                                            
  authAdapter.js                      |       0 |        0 |       0 |       0 | 10-22                                                                                                                      
 products/nexus/models                |       0 |        0 |       0 |       0 |                                                                                                                            
  Product.js                          |       0 |        0 |       0 |       0 | 8-125                                                                                                                      
  ProductConfig.js                    |       0 |        0 |       0 |       0 | 8-82                                                                                                                       
  ProductFeature.js                   |       0 |        0 |       0 |       0 | 8-147                                                                                                                      
  ProductPermission.js                |       0 |        0 |       0 |       0 | 8-140                                                                                                                      
  index.js                            |       0 |        0 |       0 |       0 |                                                                                                                            
 products/nexus/repositories          |       0 |        0 |       0 |       0 |                                                                                                                            
  attendanceRepository.js             |       0 |        0 |       0 |       0 | 12-233                                                                                                                     
  benefitsRepository.js               |       0 |        0 |       0 |       0 | 12-274                                                                                                                     
  contractRepository.js               |       0 |        0 |       0 |       0 | 12-365                                                                                                                     
  departmentRepository.js             |       0 |        0 |       0 |       0 | 12-236                                                                                                                     
  documentRepository.js               |       0 |        0 |       0 |       0 | 12-231                                                                                                                     
  employeeRepository.js               |       0 |        0 |       0 |       0 | 12-549                                                                                                                     
  index.js                            |       0 |      100 |     100 |       0 | 11-14                                                                                                                      
  locationRepository.js               |       0 |        0 |       0 |       0 | 12-217                                                                                                                     
  performanceRepository.js            |       0 |        0 |       0 |       0 | 12-321                                                                                                                     
  productConfigRepository.js          |       0 |        0 |       0 |       0 | 12-207                                                                                                                     
  productFeatureRepository.js         |       0 |        0 |       0 |       0 | 12-221                                                                                                                     
  productPermissionRepository.js      |       0 |        0 |       0 |       0 | 12-264                                                                                                                     
  productRepository.js                |       0 |        0 |       0 |       0 | 12-359                                                                                                                     
  timeOffRepository.js                |       0 |        0 |       0 |       0 | 12-467                                                                                                                     
 products/nexus/routes                |    77.2 |        0 |       0 |   78.67 |                                                                                                                            
  index.js                            |     100 |      100 |     100 |     100 |                                                                                                                            
  productConfigRoutes.js              |     100 |      100 |     100 |     100 |                                                                                                                            
  productFeatureRoutes.js             |     100 |      100 |     100 |     100 |                                                                                                                            
  productManagementRoutes.js          |     100 |      100 |     100 |     100 |                                                                                                                            
  productPermissionRoutes.js          |     100 |      100 |     100 |     100 |                                                                                                                            
  productRoutes.js                    |     100 |      100 |     100 |     100 |                                                                                                                            
  systemRoutes.js                     |   16.94 |        0 |       0 |   18.18 | 8-13,17-22,26-30,35-40,45-49,54-58,63-69,74-79,84-93                                                                       
 products/nexus/services              |    0.88 |        0 |    9.23 |    0.88 |                                                                                                                            
  attendanceService.js                |    0.66 |        0 |    8.33 |    0.66 | 18-575                                                                                                                     
  benefitsService.js                  |    0.62 |        0 |    8.33 |    0.62 | 20-603                                                                                                                     
  contractService.js                  |    0.83 |        0 |    12.5 |    0.83 | 18-425                                                                                                                     
  departmentService.js                |    0.76 |        0 |    12.5 |    0.76 | 18-461                                                                                                                     
  documentService.js                  |    0.58 |        0 |    7.69 |    0.58 | 18-684                                                                                                                     
  employeeService.js                  |    0.63 |        0 |    7.69 |    0.63 | 18-557                                                                                                                     
  employmentHistoryService.js         |    1.28 |        0 |   14.28 |    1.28 | 19-479                                                                                                                     
  index.js                            |       0 |        0 |       0 |       0 |                                                                                                                            
  locationService.js                  |    0.63 |        0 |    9.09 |    0.63 | 18-560                                                                                                                     
  performanceService.js               |    0.78 |        0 |   11.11 |    0.78 | 18-454                                                                                                                     
  productConfigService.js             |       0 |        0 |       0 |       0 | 11-32                                                                                                                      
  productFeatureService.js            |       0 |      100 |       0 |       0 | 11-75                                                                                                                      
  productPermissionService.js         |       0 |      100 |       0 |       0 | 11-55                                                                                                                      
  productService.js                   |    3.29 |        0 |    9.09 |    3.29 | 36-352                                                                                                                     
  reportsService.js                   |    1.19 |        0 |    12.5 |    1.19 | 18-600                                                                                                                     
  timeOffService.js                   |    1.02 |        0 |    12.5 |    1.02 | 18-391                                                                                                                     
 products/paylinq                     |      60 |      100 |      20 |      60 |                                                                                                                            
  index.js                            |      60 |      100 |      20 |      60 | 57-78                                                                                                                      
 products/paylinq/config              |       0 |        0 |       0 |       0 |                                                                                                                            
  product.config.js                   |       0 |        0 |       0 |       0 | 285-333                                                                                                                    
 products/paylinq/controllers         |    3.15 |     0.65 |       2 |    3.16 |                                                                                                                            
  PayrollRunTypeController.js         |    1.04 |        0 |       0 |    1.04 | 27-347                                                                                                                     
  compensationController.js           |       0 |        0 |       0 |       0 | 15-249                                                                                                                     
  dashboardController.js              |     2.7 |        0 |       0 |     2.7 | 19-172                                                                                                                     
  deductionController.js              |       0 |        0 |       0 |       0 | 15-274                                                                                                                     
  employeeRecordController.js         |   10.29 |        0 |   16.66 |   10.29 | 34-305                                                                                                                     
  formulaController.js                |   11.62 |        0 |       0 |   11.62 | 12-32,46-66,80-122,135-243                                                                                                 
  formulaTemplateController.js        |   13.51 |        0 |       0 |   13.51 | 15-33,42-53,62-73,82-96,105-122,131-143,152-169,178-190,199-211,220-236                                                    
  payComponentController.js           |       1 |        0 |       0 |       1 | 18-465                                                                                                                     
  payPeriodController.js              |   11.94 |        0 |       0 |   11.94 | 17-36,50-74,88-108,122-142,156-168,182-204,218-239                                                                         
  payStructureController.js           |   12.55 |     6.74 |   15.38 |   12.55 | 33-151,177-306,358-482,508,531-1004                                                                                        
  paycheckController.js               |       0 |        0 |       0 |       0 | 18-657                                                                                                                     
  paymentController.js                |       0 |        0 |       0 |       0 | 15-422                                                                                                                     
  payrollRunController.js             |       0 |        0 |       0 |       0 | 19-1130                                                                                                                    
  payslipTemplateController.js        |       0 |        0 |       0 |       0 | 15-448                                                                                                                     
  reconciliationController.js         |       0 |        0 |       0 |       0 | 21-521                                                                                                                     
  reportsController.js                |       0 |        0 |       0 |       0 | 16-519                                                                                                                     
  schedulingController.js             |       0 |        0 |       0 |       0 | 23-562                                                                                                                     
  settingsController.js               |   13.63 |        0 |       0 |   13.63 | 13-48,61-79,92-111,124-137,150-166,179-192                                                                                 
  taxRateController.js                |       0 |        0 |       0 |       0 | 15-460                                                                                                                     
  taxRulesController.js               |    3.81 |        0 |       0 |    3.87 | 15-110,122-181,193-317,329-455,467-546                                                                                     
  timeAttendanceController.js         |    0.71 |        0 |       0 |    0.71 | 18-619                                                                                                                     
  timesheetController.js              |       0 |        0 |       0 |       0 | 15-486                                                                                                                     
  userAccessController.js             |       0 |        0 |       0 |       0 | 17-211                                                                                                                     
  workerTypeController.js             |    1.31 |        0 |       0 |    1.31 | 18-347                                                                                                                     
 products/paylinq/dto                 |       0 |        0 |       0 |       0 |                                                                                                                            
  complianceDto.js                    |       0 |        0 |       0 |       0 | 12-102                                                                                                                     
  componentDto.js                     |       0 |        0 |       0 |       0 |                                                                                                                            
  payComponentDto.js                  |       0 |        0 |       0 |       0 | 24-217                                                                                                                     
  paycheckDto.js                      |       0 |        0 |       0 |       0 | 12-77                                                                                                                      
  payrollRunTypeDto.js                |       0 |        0 |       0 |       0 | 13-114                                                                                                                     
  runComponentDto.js                  |       0 |        0 |       0 |       0 | 26-248                                                                                                                     
  schedulingDto.js                    |       0 |        0 |       0 |       0 | 14-184                                                                                                                     
  taxRuleDto.js                       |       0 |        0 |       0 |       0 | 10-77                                                                                                                      
  workerTypeDto.js                    |       0 |        0 |       0 |       0 | 16-191                                                                                                                     
 products/paylinq/repositories        |    2.92 |    12.42 |    8.36 |    2.93 |                                                                                                                            
  AllowanceRepository.js              |    3.03 |    17.64 |   16.66 |    3.03 | 27-258                                                                                                                     
  ExchangeRateRepository.js           |       0 |        0 |       0 |       0 | 17-497                                                                                                                     
  PayrollRunTypeRepository.js         |    0.92 |      4.1 |    12.5 |    0.92 | 26-491                                                                                                                     
  complianceRepository.js             |       0 |        0 |       0 |       0 | 10-324                                                                                                                     
  dashboardRepository.js              |    3.03 |     7.69 |   16.66 |    3.03 | 25-269                                                                                                                     
  deductionRepository.js              |    1.07 |     5.66 |    7.14 |    1.07 | 26-465                                                                                                                     
  payComponentRepository.js           |    0.76 |     5.26 |       5 |    0.76 | 31-636                                                                                                                     
  payStructureRepository.js           |   21.96 |    44.32 |   32.25 |   22.48 | 110-112,116-118,148-201,229-284,386-488,538,585-927,971-1030                                                               
  paymentRepository.js                |       0 |        0 |       0 |       0 | 18-450                                                                                                                     
  payrollRepository.js                |    1.68 |     7.17 |    5.55 |    1.68 | 72-1430                                                                                                                    
  reconciliationRepository.js         |     0.9 |     6.38 |    5.55 |     0.9 | 31-551                                                                                                                     
  schedulingRepository.js             |    0.63 |        5 |    6.25 |    0.63 | 31-656                                                                                                                     
  taxEngineRepository.js              |    0.84 |     4.83 |     3.7 |    0.86 | 32-683                                                                                                                     
  taxRepository.js                    |       0 |      100 |       0 |       0 | 13-48                                                                                                                      
  timeAttendanceRepository.js         |    0.64 |      3.7 |    4.76 |    0.64 | 32-690                                                                                                                     
  workerTypeRepository.js             |    1.49 |    11.11 |    6.66 |    1.49 | 29-416                                                                                                                     
 products/paylinq/routes              |   63.53 |     2.08 |     2.7 |   63.93 |                                                                                                                            
  approvals.js                        |   16.04 |        0 |       0 |   16.04 | 37-62,76-92,106-148,162-196,210-244,258-272,286-296,310-326                                                                
  compensation.js                     |     100 |      100 |     100 |     100 |                                                                                                                            
  currency.js                         |   18.01 |        0 |       0 |   18.18 | 71-83,94-114,125-155,168-185,198-216,228-241,254-275,291-311,322-334,349-360,373-390,401-410,422-431                       
  dashboard.js                        |     100 |      100 |     100 |     100 |                                                                                                                            
  deductions.js                       |     100 |      100 |     100 |     100 |                                                                                                                            
  employees.js                        |     100 |      100 |     100 |     100 |                                                                                                                            
  formula-templates.js                |     100 |      100 |     100 |     100 |                                                                                                                            
  formulas.js                         |     100 |      100 |     100 |     100 |                                                                                                                            
  index.js                            |       0 |        0 |       0 |       0 |                                                                                                                            
  payComponents.js                    |     100 |      100 |     100 |     100 |                                                                                                                            
  payStructures.js                    |     100 |      100 |     100 |     100 |                                                                                                                            
  paychecks.js                        |     100 |      100 |     100 |     100 |                                                                                                                            
  payments.js                         |     100 |      100 |     100 |     100 |                                                                                                                            
  payrollRunTypes.js                  |     100 |      100 |     100 |     100 |                                                                                                                            
  payrollRuns.js                      |     100 |      100 |     100 |     100 |                                                                                                                            
  payslipTemplates.js                 |     100 |      100 |     100 |     100 |                                                                                                                            
  reconciliation.js                   |     100 |      100 |     100 |     100 |                                                                                                                            
  reports.js                          |     100 |      100 |     100 |     100 |                                                                                                                            
  routes.js                           |    87.8 |       25 |     100 |    87.8 | 42-46                                                                                                                      
  scheduling.js                       |     100 |      100 |     100 |     100 |                                                                                                                            
  settings.js                         |     100 |      100 |     100 |     100 |                                                                                                                            
  taxRates.js                         |     100 |      100 |     100 |     100 |                                                                                                                            
  temporalPatterns.js                 |   10.66 |        0 |       0 |   11.11 | 53-96,129-166,195-253,281-328,356-403,426-483                                                                              
  timeAttendance.js                   |   92.59 |      100 |       0 |   92.59 | 15,22                                                                                                                      
  timesheets.js                       |     100 |      100 |     100 |     100 |                                                                                                                            
  workerTypes.js                      |     100 |      100 |     100 |     100 |                                                                                                                            
  workers.js                          |     100 |      100 |     100 |     100 |                                                                                                                            
 products/paylinq/services            |    3.15 |     5.66 |    3.62 |    3.21 |                                                                                                                            
  AllowanceService.js                 |    1.51 |     6.97 |   11.11 |    1.51 | 37-350                                                                                                                     
  FormulaTemplateService.js           |       0 |        0 |       0 |       0 | 17-505                                                                                                                     
  PayrollRunTypeService.js            |    1.76 |     7.14 |    6.66 |     1.8 | 37-534                                                                                                                     
  approvalService.js                  |       0 |        0 |       0 |       0 | 24-558                                                                                                                     
  benefitsService.js                  |       0 |        0 |       0 |       0 | 11-306                                                                                                                     
  complianceService.js                |       0 |        0 |       0 |       0 | 19-304                                                                                                                     
  currencyService.js                  |    4.05 |     0.69 |     3.5 |    4.07 | 46-1102                                                                                                                    
  dashboardService.js                 |    2.77 |    14.28 |   16.66 |    2.77 | 26-153                                                                                                                     
  deductionsService.js                |       0 |        0 |       0 |       0 | 9-240                                                                                                                      
  formulaEngineService.js             |     1.2 |        0 |    8.33 |    1.25 | 33-358                                                                                                                     
  integrationService.js               |       0 |        0 |       0 |       0 | 14-598                                                                                                                     
  payComponentService.js              |    2.01 |     2.97 |     3.7 |    2.05 | 81-794                                                                                                                     
  payPeriodService.js                 |    3.19 |       12 |    9.09 |    3.19 | 41-382                                                                                                                     
  payScheduleService.js               |       0 |        0 |       0 |       0 | 9-71                                                                                                                       
  payStructureService.js              |    11.6 |     9.96 |    8.62 |   11.98 | 134,145-152,176-218,227,231,237,257-405,416,421,425,433,447-503,514,521-526,531,536,548-557,579-588,592,605-1447           
  paymentService.js                   |       0 |        0 |       0 |       0 | 20-428                                                                                                                     
  payrollService.js                   |    6.45 |    14.65 |       4 |    6.53 | 134-138,148,196-204,251-270,280-293,320-2384                                                                               
  payslipPdfService.js                |       0 |        0 |       0 |       0 | 19-746                                                                                                                     
  payslipTemplateService.js           |    1.27 |        0 |       0 |    1.27 | 71-579                                                                                                                     
  reconciliationService.js            |    3.07 |        0 |       5 |     3.1 | 28,58-545                                                                                                                  
  reportingService.js                 |       0 |      100 |       0 |       0 | 11-55                                                                                                                      
  schedulingService.js                |    1.87 |        0 |       5 |    1.89 | 23-30,80-625                                                                                                               
  taxCalculationService.js            |       2 |     4.18 |    2.85 |    2.05 | 104-1380                                                                                                                   
  temporalPatternService.js           |    1.09 |     9.23 |    3.22 |    1.17 | 30-697                                                                                                                     
  timeAttendanceService.js            |    2.27 |     7.59 |    2.38 |    2.27 | 44,78-963                                                                                                                  
  workerTypeService.js                |    1.86 |     3.75 |    5.88 |    1.86 | 66-608                                                                                                                     
 products/paylinq/utils               |   25.32 |    14.28 |   14.58 |   32.55 |                                                                                                                            
  dtoMapper.js                        |   25.32 |    14.28 |   14.58 |   32.55 | 71,84-91,97,102-109,124,145-149,267-423,590-752,830-832,886-899,969-971,981,988,993,1000-1002,1018-1020,1064-1097          
 products/schedulehub                 |      40 |      100 |       0 |      40 |                                                                                                                            
  index.js                            |      40 |      100 |       0 |      40 | 35-39,57-78                                                                                                                
 products/schedulehub/config          |       0 |        0 |       0 |       0 |                                                                                                                            
  productConfig.js                    |       0 |        0 |       0 |       0 |                                                                                                                            
 products/schedulehub/controllers     |    12.1 |        0 |   10.76 |    12.1 |                                                                                                                            
  availabilityController.js           |    12.3 |        0 |    12.5 |    12.3 | 19-32,41-56,65-77,86-105,114-137,146-168,177-191                                                                           
  roleController.js                   |   12.04 |        0 |      10 |   12.04 | 19-32,41-56,65-78,87-100,109-123,132-151,160-173,182-196,205-227                                                           
  scheduleController.js               |   11.65 |        0 |    8.33 |   11.65 | 19-32,41-59,68-86,95-109,118-133,142-158,167-183,192-206,215-229,238-247,256-278                                           
  shiftTradeController.js             |   12.19 |        0 |      10 |   12.19 | 19-32,41-58,67-83,92-108,117-131,140-154,163-175,184-196,205-218                                                           
  stationController.js                |   12.32 |        0 |   11.11 |   12.32 | 19-32,41-56,65-78,87-100,109-121,130-149,158-184,193-206                                                                   
  timeOffController.js                |   12.72 |        0 |   14.28 |   12.72 | 19-32,41-65,74-90,99-107,116-125,134-147                                                                                   
  workerController.js                 |   11.84 |        0 |   11.11 |   11.84 | 19-32,41-60,69-91,100-117,126-141,150-166,175-197,206-225                                                                  
 products/schedulehub/routes          |     100 |      100 |     100 |     100 |                                                                                                                            
  index.js                            |     100 |      100 |     100 |     100 |                                                                                                                            
 products/schedulehub/services        |    1.66 |        0 |    8.13 |     1.7 |                                                                                                                            
  availabilityService.js              |     1.6 |        0 |      10 |    1.61 | 41-498                                                                                                                     
  integrationService.js               |       0 |        0 |       0 |       0 | 13-394                                                                                                                     
  roleService.js                      |    2.12 |        0 |    9.09 |    2.27 | 27-234                                                                                                                     
  scheduleService.js                  |    1.99 |        0 |    7.14 |    2.01 | 55-690                                                                                                                     
  shiftService.js                     |       0 |        0 |       0 |       0 | 14-267                                                                                                                     
  shiftTradeService.js                |    2.15 |        0 |   14.28 |    2.29 | 25-271                                                                                                                     
  stationService.js                   |    2.35 |        0 |      10 |    2.56 | 27-209                                                                                                                     
  timeOffService.js                   |    2.77 |        0 |   16.66 |    2.89 | 29-174                                                                                                                     
  workerService.js                    |    1.38 |        0 |    7.14 |    1.38 | 57-758                                                                                                                     
 repositories                         |    1.54 |     0.22 |    6.03 |    1.59 |                                                                                                                            
  ApplicationRepository.js            |    1.28 |        0 |    7.69 |     1.3 | 21-482                                                                                                                     
  BaseRepository.js                   |    3.96 |     3.12 |    7.14 |    4.08 | 27,40-378                                                                                                                  
  CandidateRepository.js              |    2.77 |        0 |      10 |    2.81 | 24-331                                                                                                                     
  FeatureGrantRepository.js           |     1.3 |        0 |    5.26 |    1.35 | 26-657                                                                                                                     
  FeatureRepository.js                |    1.49 |        0 |    6.66 |    1.51 | 26-477                                                                                                                     
  InterviewRepository.js              |    0.89 |        0 |       4 |    0.93 | 22-686                                                                                                                     
  JobRepository.js                    |    1.53 |        0 |      10 |    1.56 | 24-478                                                                                                                     
  index.js                            |       0 |        0 |       0 |       0 |                                                                                                                            
  userAccountRepository.js            |       0 |        0 |       0 |       0 | 27-304                                                                                                                     
 routes                               |   19.36 |      2.5 |       0 |   19.42 |                                                                                                                            
  adminFeatures.js                    |   11.93 |        0 |       0 |      12 | 44-112,125-158,171-195,208-246,259-305,318-366,383-404,417-497,510-543,556-605,618-652,669-741,754-816                     
  applications.js                     |     100 |      100 |     100 |     100 |                                                                                                                            
  candidates.js                       |     100 |      100 |     100 |     100 |                                                                                                                            
  communications.js                   |     100 |      100 |     100 |     100 |                                                                                                                            
  emailSettings.js                    |     100 |      100 |     100 |     100 |                                                                                                                            
  features.js                         |    9.09 |        0 |       0 |    9.09 | 34-44,61-138,155-213,233-274,290-346,369-450,463-522                                                                       
  flowTemplates.js                    |     100 |      100 |     100 |     100 |                                                                                                                            
  interviews.js                       |     100 |      100 |     100 |     100 |                                                                                                                            
  jobs.js                             |     100 |      100 |     100 |     100 |                                                                                                                            
  mfa.routes.js                       |     100 |      100 |     100 |     100 |                                                                                                                            
  organizations.js                    |     100 |      100 |     100 |     100 |                                                                                                                            
  platformUsers.js                    |    64.7 |        0 |       0 |    64.7 | 15-30                                                                                                                      
  portal.js                           |    6.61 |        0 |       0 |    6.61 | 44-137,149-238,250-299,311-372,388-433                                                                                     
  provisioning.js                     |    7.38 |     10.2 |       0 |    7.38 | 36-125,138-420,432-466,479-491,504-523,537-542,556-561,575-580,594-599,613-636                                             
  public.js                           |     100 |      100 |     100 |     100 |                                                                                                                            
  rolesPermissions.js                 |    8.63 |        0 |       0 |    8.63 | 25-55,67-97,109-168,177-258,267-296,312-333,345-374,386-438,450-466                                                        
  security.js                         |   16.66 |        0 |       0 |   16.66 | 26-55,64-76,90-110,123-141,150-166,175-201,210-229,238-266,275-302                                                         
  userManagement.js                   |    7.08 |        0 |       0 |     7.2 | 23-80,92-143,155-243,252-321,333-378,390-428                                                                               
  users.js                            |     100 |      100 |     100 |     100 |                                                                                                                            
  workspaces.js                       |     100 |      100 |     100 |     100 |                                                                                                                            
 routes/auth                          |     100 |      100 |     100 |     100 |                                                                                                                            
  authRoutes.js                       |     100 |      100 |     100 |     100 |                                                                                                                            
 services                             |    2.98 |     1.72 |    3.78 |    3.03 |                                                                                                                            
  FeatureAccessService.js             |    3.93 |        0 |    6.66 |    3.96 | 36-491                                                                                                                     
  FeatureService.js                   |     2.8 |        0 |    7.69 |     2.8 | 27-361                                                                                                                     
  FeatureTierService.js               |    3.14 |        0 |    3.84 |    3.36 | 32-460                                                                                                                     
  accountLockout.js                   |       0 |        0 |       0 |       0 | 12-336                                                                                                                     
  cacheService.js                     |       0 |        0 |       0 |       0 | 35-429                                                                                                                     
  deploymentOrchestrator.js           |    3.33 |        0 |    5.26 |    3.33 | 28-408                                                                                                                     
  emailService.js                     |    3.75 |        0 |    7.69 |    3.79 | 29-295                                                                                                                     
  encryption.js                       |    6.93 |        0 |       0 |       7 | 49-425                                                                                                                     
  ipTracking.js                       |       0 |        0 |       0 |       0 | 12-310                                                                                                                     
  mfaService.js                       |       0 |        0 |       0 |       0 | 27-357                                                                                                                     
  passwordResetService.js             |       0 |        0 |       0 |       0 | 18-306                                                                                                                     
  secretsManager.js                   |       0 |        0 |       0 |       0 | 36-821                                                                                                                     
  securityMonitor.js                  |    8.38 |    10.43 |       8 |    8.38 | 36-55,174-776                                                                                                              
  sharedVPSOrchestrator.js            |    3.48 |        0 |      10 |    3.48 | 34-368                                                                                                                     
  tokenBlacklist.js                   |   17.28 |     4.54 |   18.75 |   17.28 | 22,33-34,44-203,213,218,222                                                                                                
  transip.js                          |    3.33 |        0 |    8.33 |    3.57 | 29-215                                                                                                                     
  userAccountService.js               |       0 |        0 |       0 |       0 | 28-341                                                                                                                     
  vpsManager.js                       |       0 |        0 |       0 |       0 | 25-318                                                                                                                     
 services/applications                |     2.7 |        0 |       5 |    2.77 |                                                                                                                            
  ApplicationService.js               |     2.7 |        0 |       5 |    2.77 | 26-467                                                                                                                     
 services/candidates                  |     2.5 |        0 |    6.66 |    2.54 |                                                                                                                            
  CandidateService.js                 |     2.5 |        0 |    6.66 |    2.54 | 24-512                                                                                                                     
 services/formula                     |    2.45 |        0 |    3.89 |     2.6 |                                                                                                                            
  FormulaEngine.js                    |    5.33 |        0 |    7.14 |    6.06 | 40-248                                                                                                                     
  FormulaExecutor.js                  |       0 |        0 |       0 |       0 | 25-277                                                                                                                     
  FormulaParser.js                    |    1.22 |        0 |    5.55 |    1.28 | 49-413                                                                                                                     
  FormulaTypes.js                     |    9.75 |        0 |       0 |    9.75 | 166-309                                                                                                                    
  FormulaValidator.js                 |    1.45 |        0 |       5 |    1.58 | 34-389                                                                                                                     
  index.js                            |       0 |        0 |       0 |       0 |                                                                                                                            
 services/interviews                  |    1.72 |        0 |    4.34 |    1.76 |                                                                                                                            
  InterviewService.js                 |    1.72 |        0 |    4.34 |    1.76 | 23-565                                                                                                                     
 services/jobs                        |    1.42 |        0 |    4.54 |    1.48 |                                                                                                                            
  JobService.js                       |    1.42 |        0 |    4.54 |    1.48 | 22-574                                                                                                                     
 shared/controllers                   |       0 |        0 |       0 |       0 |                                                                                                                            
  integrationHealthController.js      |       0 |        0 |       0 |       0 | 11-137                                                                                                                     
 shared/database                      |    42.1 |    93.75 |      40 |    42.1 |                                                                                                                            
  licenseManagerDb.js                 |    42.1 |    93.75 |      40 |    42.1 | 24,35,45-69                                                                                                                
 shared/routes                        |       0 |      100 |       0 |       0 |                                                                                                                            
  integrationHealthRoutes.js          |       0 |      100 |       0 |       0 | 9-34                                                                                                                       
 shared/utils                         |       0 |        0 |       0 |       0 |                                                                                                                            
  integrationErrorHandler.js          |       0 |        0 |       0 |       0 | 11-425                                                                                                                     
 utils                                |    6.89 |     4.27 |    4.73 |     7.2 |                                                                                                                            
  dbEncryption.js                     |       0 |        0 |       0 |       0 | 30-614                                                                                                                     
  dtoMapper.js                        |    8.23 |        0 |    6.66 |    8.75 | 216-448                                                                                                                    
  encryption.js                       |    9.75 |     7.14 |       0 |    9.75 | 24-109                                                                                                                     
  errors.js                           |       0 |        0 |       0 |       0 | 11-188                                                                                                                     
  fileStorage.js                      |       0 |        0 |       0 |       0 | 17-303                                                                                                                     
  fileValidator.js                    |       0 |        0 |       0 |       0 | 12-339                                                                                                                     
  joiExtensions.js                    |   18.91 |        0 |       0 |   18.91 | 20-30,47-59,75-84,99-105,121-127,141-147                                                                                   
  logger.js                           |   22.46 |    18.64 |   16.66 |    23.3 | 58,63-75,87,95,98,112-147,171-294,304-323,334,393,477-498,507-526,544-597                                                  
  passwordSecurity.js                 |       0 |        0 |       0 |       0 | 22-395                                                                                                                     
  sanitization.js                     |   26.04 |    17.07 |   18.18 |   32.89 | 24-36,59-110,143-221,279,295,303-306,323-341                                                                               
  secrets.js                          |       0 |        0 |       0 |       0 | 26-283                                                                                                                     
  timezone.js                         |    2.94 |        0 |       0 |    2.94 | 70-475                                                                                                                     
  tlsConfig.js                        |    2.83 |        0 |       0 |    2.94 | 91-433                                                                                                                     
  validationSchemas.js                |     100 |      100 |     100 |     100 |                                                                                                                            
  virusScanner.js                     |       0 |        0 |       0 |       0 | 8-312                                                                                                                      
--------------------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------
Jest: "global" coverage threshold for statements (70%) not met: 8.55%
Jest: "global" coverage threshold for branches (70%) not met: 6.05%
Jest: "global" coverage threshold for lines (70%) not met: 8.69%
Jest: "global" coverage threshold for functions (70%) not met: 7.15%
Test Suites: 1 failed, 1 total
Tests:       6 failed, 7 passed, 13 total
Snapshots:   0 total
Time:        17.458 s
Ran all test suites matching payTemplateWorkflow-scenario8.e2e.test.js.
ΓÜá∩╕Å  WARNING: JWT_SECRET appears to be weak or test data
   Use cryptographically random secrets in production
ΓÜá∩╕Å  WARNING: JWT_REFRESH_SECRET appears to be weak or test data
   Use cryptographically random secrets in production
≡ƒº╣ Database pool closed
≡ƒº╣ Jest global teardown complete
Jest did not exit one second after the test run has completed.

'This usually means that there are asynchronous operations that weren't stopped in 
your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this 
issue.
